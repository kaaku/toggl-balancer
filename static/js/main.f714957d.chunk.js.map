{"version":3,"sources":["serviceWorker.js","ApiTokenDialog.jsx","Duration.jsx","RunningEntryIndicator.jsx","TimeEntryContext.jsx","TimeEntryStore.jsx","CalendarCell.jsx","CalendarGrid.jsx","CalendarGridContainer.jsx","DateRangeSelector.jsx","App.jsx","index.jsx"],"names":["Boolean","window","location","hostname","match","ApiTokenDialog","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","apiToken","oldApiToken","rememberMe","handleChange","bind","assertThisInitialized","handleSubmit","handleCancel","event","setState","target","value","onClose","_this$state","_this2","_this$props","open","mandatory","_this$state2","react_default","a","createElement","Dialog","disableBackdropClick","disableEscapeKeyDown","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","href","rel","Icon","fontSize","TextField","type","autoFocus","fullWidth","margin","label","onChange","FormControlLabel","control","Checkbox","color","checked","e","DialogActions","Button","onClick","variant","disabled","Component","defaultProps","withStyles","withTheme","Duration","duration","useColors","textProps","sign","durationObj","moment","Math","abs","durationFormatted","concat","floor","asHours","minutes","toString","padStart","Typography_Typography","RunningEntryIndicator","size","visible","classes","Tooltip","title","placement","className","root","theme","red","marginLeft","spacing","verticalAlign","animation","TimeEntryContext","React","createContext","timeEntriesByDate","workdayOverrides","toggleWorkday","workdayDuration","asSeconds","timeEntryStore","fetchTimeEntries","startDate","endDate","workdaySettings","Error","start","startOf","end","add","isValid","url","URL","params","start_date","toISOString","end_date","search","URLSearchParams","fetch","method","headers","Headers","Authorization","btoa","Content-Type","catch","then","response","ok","json","status","timeEntries","map","entry","assign","unix","isRunning","sort","b","diff","reduce","result","date","format","dataForDate","isWorkday","hasRunningEntry","push","defineProperty","isBefore","dateString","hasOwnProperty","groupEntries","refreshDurations","arguments","length","undefined","refreshed","entries","forEach","_ref","_ref2","slicedToArray","hasTimeEntries","includes","isoWeekday","CalendarCell","isCurrentDate","isSame","hasDuration","Number","isSafeInteger","Consumer","Paper","classNames","calendarCell","inline","gutterBottom","dayOfMonth","today","src_RunningEntryIndicator","Switch","src_Duration","align","padding","height","backgroundColor","palette","action","disabledBackground","borderRadius","primary","main","contrastText","fontWeight","typography","fontWeightMedium","year","month","firstDayOfMonth","day","firstVisibleDay","lastDayOfMonth","endOf","lastVisibleDay","dates","weeks","gridCellCount","round","asDays","splice","durationData","fromDate","toDate","isSameOrBefore","getDurationData","Fragment","week","Grid","container","key","item","xs","src_CalendarCell","getTimeEntriesForMonth","keys","filter","isAfter","dataByMonth","timeEntriesForMonth","totalDiff","values","data","getDataByMonth","justify","lg","src_CalendarGrid","quickSelections","getDateRange","subtract","default","marginTop","currentYear","material_ui_pickers_esm","maxDate","autoOk","showTodayButton","minDate","selection","defaultDateRange","find","App","_localStorage","localStorage","workdayOverridesString","JSON","parse","console","warn","dateRange","handleDialogClose","handleDateRangeChange","showApiTokenDialog","timeEntryContext","updateTimeEntries","prevProps","prevState","_this$state2$timeEntr","oldSetting","newWorkdayOverrides","refreshedTimeEntries","setItem","stringify","_this$state3","error","message","stateChange","removeItem","_this3","_this$state4","src_ApiTokenDialog","totalTimeDiff","sum","isTrackingOngoing","some","Box","changeApiToken","dateSelectorContainer","src_DateRangeSelector","Typography","SnackbarContent","errorNotification","Provider","src_CalendarGridContainer","position","top","right","marginBottom","locale","createMuiTheme","ReactDOM","render","ThemeProvider","CssBaseline","utils","MomentUtils","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f714957d.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass ApiTokenDialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      apiToken: props.oldApiToken,\r\n      rememberMe: true\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ apiToken: event.target.value });\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { onClose } = this.props;\r\n    const { apiToken, rememberMe } = this.state;\r\n    onClose({ apiToken, rememberMe });\r\n  }\r\n\r\n  handleCancel() {\r\n    const { onClose } = this.props;\r\n    onClose({});\r\n  }\r\n\r\n  render() {\r\n    const { open, mandatory } = this.props;\r\n    const { apiToken, rememberMe } = this.state;\r\n\r\n    return (\r\n      <Dialog\r\n        open={open}\r\n        disableBackdropClick={mandatory}\r\n        disableEscapeKeyDown={mandatory}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Enter your Toggl API Token</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Your Toggl time entries will be fetched using your API Token, which you can find from your{' '}\r\n            <a href=\"https://www.toggl.com/app/profile\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              Toggl profile <Icon fontSize=\"small\">open_in_new</Icon>\r\n            </a>\r\n          </DialogContentText>\r\n          <TextField\r\n            type=\"password\"\r\n            autoFocus\r\n            fullWidth\r\n            margin=\"dense\"\r\n            label=\"API Token\"\r\n            value={apiToken}\r\n            onChange={this.handleChange}\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={rememberMe}\r\n                onChange={(e, checked) => this.setState({ rememberMe: checked })}\r\n              />\r\n            }\r\n            label=\"Remember me\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {!mandatory && (\r\n            <Button color=\"primary\" onClick={this.handleCancel}>\r\n              Cancel\r\n            </Button>\r\n          )}\r\n          <Button variant=\"contained\" color=\"primary\" onClick={this.handleSubmit} disabled={!apiToken}>\r\n            Submit\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nApiTokenDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  oldApiToken: PropTypes.string,\r\n  open: PropTypes.bool,\r\n  mandatory: PropTypes.bool\r\n};\r\n\r\nApiTokenDialog.defaultProps = {\r\n  oldApiToken: '',\r\n  open: true,\r\n  mandatory: false\r\n};\r\n\r\nexport default withStyles({}, { withTheme: true })(ApiTokenDialog);\r\n","import moment from 'moment';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst Duration = props => {\r\n  const { duration, useColors, textProps } = props;\r\n\r\n  const sign = duration === 0 ? '' : duration > 0 ? '+' : '-';\r\n  const durationObj = moment.duration(Math.abs(duration), 'seconds');\r\n  const durationFormatted = `${Math.floor(durationObj.asHours())}:${durationObj\r\n    .minutes()\r\n    .toString()\r\n    .padStart(2, '0')}`;\r\n  if (useColors) {\r\n    textProps.color = duration < 0 ? 'error' : 'primary';\r\n  }\r\n\r\n  return (\r\n    <Typography {...textProps}>\r\n      {sign}\r\n      {durationFormatted}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nDuration.propTypes = {\r\n  duration: PropTypes.number.isRequired,\r\n  useColors: PropTypes.bool,\r\n  textProps: PropTypes.object\r\n};\r\n\r\nDuration.defaultProps = {\r\n  useColors: false,\r\n  textProps: {}\r\n};\r\n\r\nexport default withStyles({}, { withTheme: true })(Duration);\r\n","import Icon from '@material-ui/core/Icon';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { red } from '@material-ui/core/colors';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    color: red[500],\r\n    marginLeft: theme.spacing(2),\r\n    verticalAlign: 'top',\r\n    animation: 'blinker 2s cubic-bezier(0.46, 0.03, 0.52, 0.96) infinite'\r\n  }\r\n});\r\n\r\nconst RunningEntryIndicator = props => {\r\n  const { size, visible, classes } = props;\r\n  return visible ? (\r\n    <Tooltip title=\"You have a running time entry\" placement=\"top\">\r\n      <Icon fontSize={size} className={classes.root}>\r\n        fiber_manual_record\r\n      </Icon>\r\n    </Tooltip>\r\n  ) : null;\r\n};\r\n\r\nRunningEntryIndicator.propTypes = {\r\n  size: PropTypes.oneOf(['default', 'small', 'large']),\r\n  visible: PropTypes.bool\r\n};\r\n\r\nRunningEntryIndicator.defaultProps = {\r\n  size: 'default',\r\n  visible: true\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(RunningEntryIndicator);\r\n","import React from 'react';\r\n\r\nexport const TimeEntryContext = React.createContext({\r\n  timeEntriesByDate: {},\r\n  workdayOverrides: {},\r\n  toggleWorkday: () => {}\r\n});\r\n","import moment from 'moment';\r\n\r\nconst BASE_URL = 'https://www.toggl.com/api/v8/time_entries';\r\n\r\nconst workdayDuration = moment.duration('7:30').asSeconds();\r\n\r\nfunction groupEntries(startDate, endDate, timeEntries, workdayOverrides) {\r\n  const timeEntriesByDate = timeEntries\r\n    .map(entry =>\r\n      Object.assign(entry, {\r\n        start: moment(entry.start),\r\n        end: moment(entry.end),\r\n        duration: entry.duration < 0 ? moment().unix() + entry.duration : entry.duration,\r\n        isRunning: entry.duration < 0\r\n      })\r\n    )\r\n    .sort((a, b) => a.start.diff(b.start))\r\n    .reduce((result, entry) => {\r\n      const date = moment(entry.start).format('YYYY-MM-DD');\r\n      const dataForDate = result[date] || {\r\n        timeEntries: [],\r\n        duration: timeEntryStore.isWorkday(date, workdayOverrides, true) ? -workdayDuration : 0,\r\n        hasRunningEntry: false\r\n      };\r\n      dataForDate.timeEntries.push(entry);\r\n      dataForDate.duration += entry.duration;\r\n      dataForDate.hasRunningEntry = dataForDate.hasRunningEntry || entry.isRunning;\r\n\r\n      return Object.assign(result, { [date]: dataForDate });\r\n    }, {});\r\n\r\n  let date = startDate;\r\n  while (date.isBefore(endDate, 'day')) {\r\n    const dateString = date.format('YYYY-MM-DD');\r\n    if (!timeEntriesByDate.hasOwnProperty(dateString)) {\r\n      timeEntriesByDate[dateString] = {\r\n        timeEntries: [],\r\n        duration: timeEntryStore.isWorkday(dateString, workdayOverrides, false) ? -workdayDuration : null,\r\n        hasRunningEntry: false\r\n      };\r\n    }\r\n\r\n    date = date.add(1, 'day');\r\n  }\r\n\r\n  return timeEntriesByDate;\r\n}\r\n\r\nexport const timeEntryStore = {\r\n  fetchTimeEntries(startDate, endDate, apiToken, workdaySettings) {\r\n    if (!startDate && !endDate) {\r\n      throw Error('Either start date or end date is required');\r\n    } else if (!apiToken) {\r\n      throw Error('API token is required');\r\n    }\r\n\r\n    const start = !startDate ? null : moment(startDate).startOf('day');\r\n    const end = !endDate ? null : moment(endDate).add(1, 'day').startOf('day');\r\n    if ((start && !start.isValid()) || (end && !end.isValid())) {\r\n      throw Error('Start date and/or end date were invalid');\r\n    }\r\n\r\n    const url = new URL(BASE_URL);\r\n    const params = {};\r\n    if (start) {\r\n      params.start_date = start.toISOString();\r\n    }\r\n    if (end) {\r\n      params.end_date = end.toISOString();\r\n    }\r\n    url.search = new URLSearchParams(params);\r\n\r\n    return fetch(url, {\r\n      method: 'GET',\r\n      headers: new Headers({\r\n        Authorization: `Basic ${btoa(`${apiToken}:api_token`)}`,\r\n        'Content-Type': 'application/json'\r\n      })\r\n    })\r\n      .catch(() => {\r\n        throw Error('Failed to fetch time entries, check your internet connection');\r\n      })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        if (response.status === 403) {\r\n          throw Error('Toggl authentication failed, maybe the API token is incorrect?');\r\n        }\r\n        throw Error(`Toggl responded with an unknown error (HTTP ${response.status})`);\r\n      })\r\n      .then(timeEntries => groupEntries(start, end, timeEntries, workdaySettings));\r\n  },\r\n\r\n  refreshDurations(timeEntriesByDate = {}, workdayOverrides = {}) {\r\n    const refreshed = {};\r\n\r\n    Object.entries(timeEntriesByDate).forEach(([date, dataForDate]) => {\r\n      const hasTimeEntries = dataForDate.timeEntries.length > 0;\r\n      const isWorkday = this.isWorkday(date, workdayOverrides, hasTimeEntries);\r\n      let duration = null;\r\n      if (hasTimeEntries || isWorkday) {\r\n        const baseDuration = dataForDate.timeEntries.map(entry => entry.duration).reduce((a, b) => a + b, 0);\r\n        duration = baseDuration + (isWorkday ? -workdayDuration : 0);\r\n      }\r\n      refreshed[date] = Object.assign({}, dataForDate, { duration });\r\n    });\r\n\r\n    return refreshed;\r\n  },\r\n\r\n  isWorkday(date, workdayOverrides = {}, hasTimeEntries = false) {\r\n    if (workdayOverrides.hasOwnProperty(date)) {\r\n      return workdayOverrides[date];\r\n    }\r\n    if ([6, 7].includes(moment(date).isoWeekday())) {\r\n      return false;\r\n    }\r\n\r\n    return hasTimeEntries;\r\n  }\r\n};\r\n","import classNames from 'classnames';\r\nimport moment from 'moment';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Duration from './Duration';\r\nimport RunningEntryIndicator from './RunningEntryIndicator';\r\nimport { TimeEntryContext } from './TimeEntryContext';\r\nimport { timeEntryStore } from './TimeEntryStore';\r\n\r\nconst styles = theme => ({\r\n  calendarCell: {\r\n    padding: 10,\r\n    height: '100%'\r\n  },\r\n  disabled: {\r\n    backgroundColor: theme.palette.action.disabledBackground\r\n  },\r\n  dayOfMonth: {\r\n    padding: 3\r\n  },\r\n  today: {\r\n    borderRadius: '50%',\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: theme.palette.primary.contrastText,\r\n    fontWeight: theme.typography.fontWeightMedium\r\n  }\r\n});\r\n\r\nconst CalendarCell = props => {\r\n  const { date, duration, hasRunningEntry, disabled, classes } = props;\r\n  const isCurrentDate = moment().isSame(date, 'day');\r\n  const hasDuration = Number.isSafeInteger(duration);\r\n\r\n  return (\r\n    <TimeEntryContext.Consumer>\r\n      {({ workdayOverrides, toggleWorkday }) => (\r\n        <Paper className={classNames(classes.calendarCell, { [classes.disabled]: disabled })}>\r\n          <Typography\r\n            variant=\"overline\"\r\n            inline\r\n            gutterBottom\r\n            className={classNames(classes.dayOfMonth, { [classes.today]: isCurrentDate })}\r\n          >\r\n            {moment(date).format('DD')}\r\n          </Typography>\r\n          <RunningEntryIndicator size=\"small\" visible={hasRunningEntry} />\r\n          {!disabled && (\r\n            <Switch\r\n              checked={timeEntryStore.isWorkday(date, workdayOverrides, hasDuration)}\r\n              onChange={() => toggleWorkday(date)}\r\n              color=\"primary\"\r\n            />\r\n          )}\r\n          {hasDuration && (\r\n            <Duration\r\n              duration={duration}\r\n              useColors\r\n              textProps={{\r\n                variant: 'h6',\r\n                align: 'center'\r\n              }}\r\n            />\r\n          )}\r\n          {!disabled && !hasDuration && (\r\n            <Typography variant=\"h6\" color=\"textSecondary\" align=\"center\">\r\n              -\r\n            </Typography>\r\n          )}\r\n        </Paper>\r\n      )}\r\n    </TimeEntryContext.Consumer>\r\n  );\r\n};\r\n\r\nCalendarCell.propTypes = {\r\n  date: PropTypes.string.isRequired,\r\n  duration: PropTypes.number,\r\n  hasRunningEntry: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nCalendarCell.defaultProps = {\r\n  duration: null,\r\n  hasRunningEntry: false,\r\n  disabled: false\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(CalendarCell);\r\n","import Grid from '@material-ui/core/Grid';\r\nimport moment from 'moment';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport CalendarCell from './CalendarCell';\r\n\r\nfunction getDurationData(timeEntriesByDate, fromDate, toDate) {\r\n  const durationData = {};\r\n  let date = moment(fromDate);\r\n  while (date.isSameOrBefore(toDate, 'day')) {\r\n    const dateString = date.format('YYYY-MM-DD');\r\n    durationData[dateString] = Object.assign(\r\n      {\r\n        duration: null,\r\n        hasRunningEntry: false\r\n      },\r\n      timeEntriesByDate[dateString]\r\n    );\r\n    date = date.add(1, 'day');\r\n  }\r\n\r\n  return durationData;\r\n}\r\n\r\nconst CalendarGrid = props => {\r\n  const { year, month, timeEntriesByDate } = props;\r\n\r\n  const firstDayOfMonth = moment({ year, month: month - 1, day: 1 });\r\n  const firstVisibleDay = moment(firstDayOfMonth).startOf('week');\r\n  const lastDayOfMonth = moment(firstDayOfMonth).endOf('month').startOf('day');\r\n  const lastVisibleDay = moment(lastDayOfMonth).endOf('week').startOf('day');\r\n\r\n  const dates = [];\r\n  const weeks = [];\r\n  const gridCellCount = Math.round(moment.duration(lastVisibleDay.diff(firstVisibleDay)).asDays()) + 1;\r\n  while (dates.length < gridCellCount) {\r\n    dates.push(\r\n      moment(firstVisibleDay)\r\n        .add(dates.length, 'days')\r\n        .format('YYYY-MM-DD')\r\n    );\r\n  }\r\n  while (dates.length > 0) {\r\n    weeks.push(dates.splice(0, 7));\r\n  }\r\n\r\n  const durationData = getDurationData(timeEntriesByDate, firstVisibleDay, lastVisibleDay);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {weeks.map(week => (\r\n        <Grid container spacing={2} key={moment(week[0]).week()}>\r\n          {week.map(date => (\r\n            <Grid item xs key={date}>\r\n              <CalendarCell\r\n                date={date}\r\n                duration={durationData[date].duration}\r\n                hasRunningEntry={durationData[date].hasRunningEntry}\r\n                disabled={!firstDayOfMonth.isSame(date, 'month')}\r\n              />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nCalendarGrid.propTypes = {\r\n  year: PropTypes.number.isRequired,\r\n  month: PropTypes.oneOf([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]).isRequired,\r\n  timeEntriesByDate: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles({}, { withTheme: true })(CalendarGrid);\r\n","import Grid from '@material-ui/core/Grid';\r\nimport moment from 'moment';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Duration from './Duration';\r\nimport CalendarGrid from './CalendarGrid';\r\n\r\nfunction getTimeEntriesForMonth(timeEntriesByDate, month) {\r\n  return Object.keys(timeEntriesByDate)\r\n    .filter(date => moment(date).month() === month)\r\n    .reduce((result, date) => Object.assign(result, { [date]: timeEntriesByDate[date] }), {});\r\n}\r\n\r\nfunction getDataByMonth(startDate, endDate, timeEntriesByDate) {\r\n  const dataByMonth = [];\r\n  let firstDayOfMonth = moment(startDate).startOf('month');\r\n  while (firstDayOfMonth.isSameOrBefore(endDate, 'day')) {\r\n    const timeEntriesForMonth = getTimeEntriesForMonth(timeEntriesByDate, firstDayOfMonth.month());\r\n    dataByMonth.push({\r\n      firstDayOfMonth,\r\n      totalDiff: Object.values(timeEntriesForMonth).reduce((result, data) => result + data.duration, 0)\r\n    });\r\n    firstDayOfMonth = moment(firstDayOfMonth).add(1, 'month');\r\n  }\r\n\r\n  return dataByMonth;\r\n}\r\n\r\nconst CalendarGridContainer = props => {\r\n  const { startDate, endDate, timeEntriesByDate, classes } = props;\r\n  if (startDate.isAfter(endDate)) {\r\n    return null;\r\n  }\r\n\r\n  const dataByMonth = getDataByMonth(startDate, endDate, timeEntriesByDate);\r\n\r\n  return (\r\n    <Grid container justify=\"center\" spacing={5} className={classes.root}>\r\n      {dataByMonth.map(({ firstDayOfMonth, totalDiff }) => (\r\n        <Grid item xs={12} lg={6} key={firstDayOfMonth.format('YYYY-MM')}>\r\n          <Grid container justify=\"space-between\">\r\n            <Grid item>\r\n              <Typography variant=\"h2\" gutterBottom>\r\n                {firstDayOfMonth.format('MMMM YYYY')}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <Duration\r\n                duration={totalDiff}\r\n                useColors\r\n                textProps={{\r\n                  variant: 'h2',\r\n                  gutterBottom: true\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <CalendarGrid\r\n            year={firstDayOfMonth.year()}\r\n            month={firstDayOfMonth.month() + 1}\r\n            timeEntriesByDate={getTimeEntriesForMonth(timeEntriesByDate, firstDayOfMonth.month())}\r\n          />\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nCalendarGridContainer.propTypes = {\r\n  startDate: PropTypes.instanceOf(moment).isRequired,\r\n  endDate: PropTypes.instanceOf(moment).isRequired,\r\n  timeEntriesByDate: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles({}, { withTheme: true })(CalendarGridContainer);\r\n","import Button from '@material-ui/core/Button';\r\nimport { DatePicker } from '@material-ui/pickers';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport moment from 'moment';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    padding: theme.spacing(5)\r\n  },\r\n  quickSelections: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n});\r\n\r\nconst quickSelections = [\r\n  {\r\n    title: 'Last month',\r\n    getDateRange: () => ({\r\n      startDate: moment()\r\n        .subtract(1, 'month')\r\n        .startOf('month'),\r\n      endDate: moment()\r\n        .startOf('month')\r\n        .subtract(1, 'day')\r\n    })\r\n  },\r\n  {\r\n    title: 'This month',\r\n    getDateRange: () => ({\r\n      startDate: moment().startOf('month'),\r\n      endDate: moment()\r\n        .endOf('month')\r\n        .startOf('day')\r\n    }),\r\n    default: true\r\n  },\r\n  {\r\n    title: 'This year',\r\n    getDateRange: () => ({\r\n      startDate: moment().startOf('year'),\r\n      endDate: moment()\r\n        .endOf('month')\r\n        .startOf('day')\r\n    })\r\n  }\r\n];\r\n\r\nconst DateRangeSelector = props => {\r\n  const { startDate, endDate, onChange, classes } = props;\r\n  const currentYear = moment().year();\r\n\r\n  return (\r\n    <Paper className={classes.root}>\r\n      <Grid container justify=\"space-evenly\" spacing={5}>\r\n        <Grid item>\r\n          <DatePicker\r\n            label=\"From\"\r\n            format={startDate && startDate.year() !== currentYear ? 'MMMM Do, YYYY' : 'MMMM Do'}\r\n            value={startDate}\r\n            maxDate={endDate}\r\n            autoOk\r\n            showTodayButton\r\n            onChange={date =>\r\n              onChange({\r\n                startDate: date,\r\n                endDate\r\n              })\r\n            }\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <DatePicker\r\n            label=\"To\"\r\n            format={endDate && endDate.year() !== currentYear ? 'MMMM Do, YYYY' : 'MMMM Do'}\r\n            value={endDate}\r\n            minDate={startDate}\r\n            autoOk\r\n            showTodayButton\r\n            onChange={date =>\r\n              onChange({\r\n                startDate,\r\n                endDate: date\r\n              })\r\n            }\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container justify=\"space-evenly\" spacing={5} className={classes.quickSelections}>\r\n        {quickSelections.map(selection => (\r\n          <Grid item key={selection.title}>\r\n            <Button onClick={() => onChange(selection.getDateRange())} size=\"small\">\r\n              {selection.title}\r\n            </Button>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nDateRangeSelector.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  startDate: PropTypes.instanceOf(moment),\r\n  endDate: PropTypes.instanceOf(moment)\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(DateRangeSelector);\r\n\r\nexport const defaultDateRange = quickSelections.find(selection => selection.default).getDateRange();\r\n","import Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport moment from 'moment';\r\nimport React, { Component } from 'react';\r\nimport SnackbarContent from '@material-ui/core/es/SnackbarContent/SnackbarContent';\r\nimport Typography from '@material-ui/core/es/Typography/Typography';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ApiTokenDialog from './ApiTokenDialog';\r\nimport CalendarGridContainer from './CalendarGridContainer';\r\nimport DateRangeSelector, { defaultDateRange } from './DateRangeSelector';\r\nimport { timeEntryStore } from './TimeEntryStore';\r\nimport Duration from './Duration';\r\nimport RunningEntryIndicator from './RunningEntryIndicator';\r\nimport { TimeEntryContext } from './TimeEntryContext';\r\nimport './styles.css';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    padding: theme.spacing(4)\r\n  },\r\n  changeApiToken: {\r\n    position: 'absolute',\r\n    top: theme.spacing(2),\r\n    right: theme.spacing(2)\r\n  },\r\n  dateSelectorContainer: {\r\n    marginTop: theme.spacing(5),\r\n    marginBottom: theme.spacing(10)\r\n  },\r\n  totalTimeDiff: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  errorNotification: {\r\n    marginTop: theme.spacing(3),\r\n    backgroundColor: theme.palette.error.main\r\n  }\r\n});\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { apiToken, startDate, endDate, workdayOverrides: workdayOverridesString } = localStorage;\r\n    let workdayOverrides = {};\r\n    try {\r\n      if (workdayOverridesString) {\r\n        workdayOverrides = JSON.parse(workdayOverridesString);\r\n      }\r\n    } catch (e) {\r\n      console.warn(`Couldn't parse workday overrides from localStorage: ${workdayOverridesString}`);\r\n      workdayOverrides = {};\r\n    }\r\n    const dateRange =\r\n      startDate && endDate ? { startDate: moment(startDate), endDate: moment(endDate) } : defaultDateRange;\r\n\r\n    this.handleDialogClose = this.handleDialogClose.bind(this);\r\n    this.handleDateRangeChange = this.handleDateRangeChange.bind(this);\r\n    this.toggleWorkday = this.toggleWorkday.bind(this);\r\n\r\n    this.state = {\r\n      apiToken,\r\n      showApiTokenDialog: !apiToken,\r\n      startDate: dateRange.startDate,\r\n      endDate: dateRange.endDate,\r\n      timeEntryContext: { timeEntriesByDate: {}, workdayOverrides, toggleWorkday: this.toggleWorkday }\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { apiToken } = this.state;\r\n    if (apiToken) {\r\n      this.updateTimeEntries();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { startDate, endDate, apiToken } = this.state;\r\n    if (prevState.startDate !== startDate || prevState.endDate !== endDate || prevState.apiToken !== apiToken) {\r\n      this.updateTimeEntries();\r\n    }\r\n  }\r\n\r\n  toggleWorkday(date) {\r\n    const {\r\n      timeEntryContext,\r\n      timeEntryContext: { workdayOverrides, timeEntriesByDate }\r\n    } = this.state;\r\n\r\n    const oldSetting = timeEntryStore.isWorkday(date, workdayOverrides, timeEntriesByDate[date].timeEntries.length > 0);\r\n    const newWorkdayOverrides = Object.assign({}, workdayOverrides, { [date]: !oldSetting });\r\n    const refreshedTimeEntries = timeEntryStore.refreshDurations(timeEntriesByDate, newWorkdayOverrides);\r\n\r\n    localStorage.setItem('workdayOverrides', JSON.stringify(newWorkdayOverrides));\r\n    this.setState({\r\n      timeEntryContext: Object.assign({}, timeEntryContext, {\r\n        timeEntriesByDate: refreshedTimeEntries,\r\n        workdayOverrides: newWorkdayOverrides\r\n      })\r\n    });\r\n  }\r\n\r\n  updateTimeEntries() {\r\n    const { startDate, endDate, apiToken, timeEntryContext } = this.state;\r\n    try {\r\n      timeEntryStore.fetchTimeEntries(startDate, endDate, apiToken, timeEntryContext.workdayOverrides).then(\r\n        result =>\r\n          this.setState({\r\n            timeEntryContext: Object.assign({}, timeEntryContext, { timeEntriesByDate: result }),\r\n            error: undefined\r\n          }),\r\n        error =>\r\n          this.setState({\r\n            timeEntryContext: Object.assign({}, timeEntryContext, { timeEntriesByDate: {} }),\r\n            error: error.message\r\n          })\r\n      );\r\n    } catch ({ message }) {\r\n      this.setState({ error: message });\r\n    }\r\n  }\r\n\r\n  handleDialogClose({ apiToken, rememberMe }) {\r\n    const stateChange = { showApiTokenDialog: false };\r\n    if (apiToken) {\r\n      if (rememberMe) {\r\n        localStorage.setItem('apiToken', apiToken);\r\n      } else {\r\n        localStorage.removeItem('apiToken');\r\n      }\r\n      Object.assign(stateChange, { apiToken });\r\n    }\r\n    this.setState(stateChange);\r\n  }\r\n\r\n  handleDateRangeChange(dateRange) {\r\n    Object.keys(dateRange).forEach(key => localStorage.setItem(key, dateRange[key].format('YYYY-MM-DD')));\r\n    this.setState(dateRange);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      startDate,\r\n      endDate,\r\n      apiToken,\r\n      showApiTokenDialog,\r\n      timeEntryContext,\r\n      timeEntryContext: { timeEntriesByDate },\r\n      error\r\n    } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    if (!apiToken) {\r\n      return <ApiTokenDialog mandatory onClose={this.handleDialogClose} />;\r\n    }\r\n\r\n    const totalTimeDiff = Object.values(timeEntriesByDate).reduce((sum, entry) => sum + entry.duration, 0);\r\n    const isTrackingOngoing = Object.values(timeEntriesByDate).some(entry => entry.hasRunningEntry);\r\n\r\n    return (\r\n      <Box className={classes.root}>\r\n        <ApiTokenDialog\r\n          open={showApiTokenDialog}\r\n          mandatory={false}\r\n          oldApiToken={apiToken}\r\n          onClose={this.handleDialogClose}\r\n        />\r\n        <Button\r\n          className={classes.changeApiToken}\r\n          color=\"primary\"\r\n          onClick={() => this.setState({ showApiTokenDialog: true })}\r\n        >\r\n          Change API Token\r\n        </Button>\r\n        <Grid container justify=\"center\" className={classes.dateSelectorContainer}>\r\n          <Grid item>\r\n            <DateRangeSelector startDate={startDate} endDate={endDate} onChange={this.handleDateRangeChange} />\r\n          </Grid>\r\n          {!startDate.isSame(endDate, 'month') && (\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h2\" align=\"center\" className={classes.totalTimeDiff}>\r\n                Total: <Duration duration={totalTimeDiff} useColors textProps={{ variant: 'inherit', inline: true }} />\r\n                <RunningEntryIndicator size=\"large\" visible={isTrackingOngoing} />\r\n              </Typography>\r\n            </Grid>\r\n          )}\r\n          {error && (\r\n            <Grid item>\r\n              <SnackbarContent className={classes.errorNotification} message={error} />\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n        {Object.keys(timeEntriesByDate).length > 0 && (\r\n          <TimeEntryContext.Provider value={timeEntryContext}>\r\n            <CalendarGridContainer startDate={startDate} endDate={endDate} timeEntriesByDate={timeEntriesByDate} />\r\n          </TimeEntryContext.Provider>\r\n        )}\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(App);\r\n","import CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport moment from 'moment';\r\nimport 'moment/locale/en-gb';\r\nimport MomentUtils from '@date-io/moment';\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport App from './App';\r\n\r\nmoment.locale('en-gb');\r\n\r\nconst theme = createMuiTheme();\r\n\r\nconst root = () => (\r\n  <ThemeProvider theme={theme}>\r\n    <CssBaseline />\r\n    <MuiPickersUtilsProvider utils={MomentUtils}>\r\n      <App />\r\n    </MuiPickersUtilsProvider>\r\n  </ThemeProvider>\r\n);\r\n\r\nReactDOM.render(root(), document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}